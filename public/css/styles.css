/* =======================================================
   Sistema de Mantenimientos · Tema corporativo Gas Tomza
   Archivo: public/css/styles.css
   ======================================================= */

/* ---------- Design tokens (variables) ---------- */
:root{
  /* Superficies neutras */
  --page:#f6f7fb;           /* fondo general */
  --surface:#ffffff;        /* tarjetas/nav */
  --surface-2:#fafbff;      /* filas/inputs ligeros */
  --border:#e5e7eb;         /* bordes suaves */
  --shadow:0 10px 30px rgba(16,24,40,.06);

  /* Texto */
  --text:#1f2937;           /* principal */
  --text-strong:#111827;    /* headings */
  --text-weak:#6b7280;      /* secundario */
  --thead:#0f172a;          /* cabezales de tabla */

  /* Marca (Tomza) */
  --brand:#ff7a00;
  --brand-600:#e56d00;
  --brand-700:#c65f00;

  /* Estados */
  --success:#0ea5a5;
  --danger:#dc2626;
  --info:#2563eb;

  /* Dimensiones */
  --radius:16px;
  --radius-sm:12px;

  /* Focus accesible */
  --focus: 0 0 0 4px rgba(255,122,0,.18), 0 0 0 1.5px var(--brand);
}

/* ---------- Reset & base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--page);
  color:var(--text);
  font:15px/1.55 system-ui,-apple-system,"Segoe UI",Inter,Roboto,Ubuntu,Arial;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* ---------- Topbar / navegación ---------- */
.topbar{
  position:sticky; top:0; z-index:10;
  background:var(--surface);
  border-bottom:1px solid var(--border);
  box-shadow:var(--shadow);
}
.brandline{
  height:4px; background:linear-gradient(90deg,var(--brand),#ff9a36 60%, #ffc286);
}
.brand{
  display:flex; align-items:center; gap:12px;
  padding:12px 18px;
}
.brand img{height:28px; width:auto; display:block}
.brand .title{font-weight:800; color:var(--text-strong); letter-spacing:.2px}

nav{
  display:flex; gap:14px; align-items:center;
  padding:0 18px 14px 18px; flex-wrap:wrap;
}
nav a{
  color:var(--text); text-decoration:none; font-weight:600;
  padding:8px 12px; border-radius:10px; transition:.15s ease;
}
nav a:hover{background:var(--surface-2)}
nav a.nav-mant{color:var(--brand); background:#fff3e8; border:1px solid #ffd7b0}

/* ---------- Contenedores ---------- */
.container{max-width:1200px;margin:0 auto;padding:24px}
.card{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:24px;
}
.card + .card{margin-top:18px}

/* ---------- Tipografía ---------- */
h1,h2,h3{margin:0 0 12px; color:var(--text-strong); font-weight:800}
h1{font-size:28px}
h2{font-size:22px}
h3{font-size:18px}
.muted{color:var(--text-weak);}

/* ---------- Formularios ---------- */
label{display:block;margin:10px 0 6px;color:var(--text-strong);font-weight:600}
input[type="text"],input[type="number"],input[type="date"],select,textarea{
  width:100%; background:var(--surface-2); color:var(--text);
  border:1px solid var(--border); border-radius:var(--radius-sm);
  padding:10px 12px; outline:none; transition:border-color .15s, box-shadow .15s;
}
input::placeholder,textarea::placeholder{color:#9aa3b2}
input:focus,select:focus,textarea:focus{border-color:var(--brand); box-shadow:var(--focus)}
.form-row{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
.form-row .col-2{grid-column:span 2}
.form-row .col-3{grid-column:span 3}
.form-actions{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}

/* ---------- Botones ---------- */
.btn{
  display:inline-flex; align-items:center; gap:8px; cursor:pointer;
  background:var(--brand); color:#fff; border:1px solid var(--brand);
  padding:10px 14px; border-radius:12px; font-weight:700;
  text-decoration:none; transition:transform .05s ease, filter .15s ease, box-shadow .15s;
}
.btn:hover{filter:brightness(1.05)}
.btn:active{transform:translateY(1px)}
.btn:focus{outline:none; box-shadow:var(--focus)}
.btn.sm{padding:7px 10px;font-size:13px}
.btn.ghost{
  background:#fff; color:var(--brand); border:1px solid #ffd3ad;
}
.btn.success{background:var(--success);border-color:var(--success)}
.btn.danger{background:var(--danger);border-color:var(--danger)}
.btn.info{background:var(--info);border-color:var(--info)}
.btn.warning{background:var(--brand);border-color:var(--brand)}

/* ---------- Badges / Chips ---------- */
.badge{
  display:inline-block;padding:4px 10px;border-radius:999px;
  font-weight:700;font-size:12px;line-height:1;
}
.badge-mant{background:var(--brand);color:#fff}
.badge-corr{background:#d1fae5;color:#065f46;border:1px solid #a7f3d0}
.chip{
  display:inline-block;background:#fff3e0;color:#7a3b00;
  padding:4px 10px;border-radius:999px;font-weight:700;border:1px solid #ffd5a8
}

/* ---------- Tablas ---------- */
.table{width:100%;border-collapse:separate;border-spacing:0 8px}
.table thead th{
  text-align:left; padding:10px 12px; color:var(--thead);
  font-weight:800; text-transform:uppercase; letter-spacing:.35px;
}
.table tbody tr{
  background:var(--surface-2);
  border:1px solid var(--border);
  border-radius:12px; overflow:hidden; transition:background .15s;
}
.table tbody tr:hover{background:#fff7ef}
.table tbody td{padding:12px;color:var(--text)}
.table tbody td:first-child{border-radius:12px 0 0 12px}
.table tbody td:last-child{border-radius:0 12px 12px 0; white-space:nowrap}
.col-actions{white-space:nowrap;width:1%}

/* ---------- KPI tiles ---------- */
.kpi{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:18px}
.kpi .tile{
  background:var(--surface);border:1px solid var(--border);
  border-radius:14px;padding:16px;box-shadow:var(--shadow)
}
.kpi .tile .label{color:var(--text-weak);font-size:13px}
.kpi .tile .value{font-size:24px;font-weight:800;color:var(--text-strong)}

/* ---------- Modal (Se realizó) ---------- */
.modal{position:fixed;inset:0;background:rgba(2,6,23,.45);display:none;align-items:center;justify-content:center;z-index:40}
.modal.open{display:flex}
.modal .box{
  width:min(720px,92vw);background:var(--surface);
  border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);
  padding:18px;
}
.modal .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.modal textarea{min-height:110px}

/* ---------- FAB chat ---------- */
.chat-fab{
  position:fixed; right:22px; bottom:22px; width:56px; height:56px; z-index:50;
  display:flex;align-items:center;justify-content:center;
  background:var(--brand); color:#fff; border-radius:50%; box-shadow:var(--shadow);
}
.chat-window{
  position:fixed; right:22px; bottom:90px; width:360px; max-height:70vh; z-index:50;
  display:none; flex-direction:column; overflow:hidden;
  background:var(--surface); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow);
}
.chat-window.open{display:flex}
.chat-header{padding:10px 12px;border-bottom:1px solid var(--border);font-weight:800;color:var(--text-strong)}
.chat-body{padding:10px 12px}
.chat-msg{margin:8px 0;padding:8px 10px;border-radius:10px;background:var(--surface-2);border:1px solid var(--border)}
.chat-input{display:flex;gap:8px;padding:10px;border-top:1px solid var(--border)}
.chat-input input{flex:1}

/* ---------- Utilidades ---------- */
.right{margin-left:auto}
.center{text-align:center}
.hidden{display:none}

/* ---------- Responsive ---------- */
@media (max-width: 980px){
  .form-row{grid-template-columns:1fr 1fr}
  .kpi{grid-template-columns:1fr}
}
@media (max-width: 640px){
  nav{justify-content:center}
  .form-row{grid-template-columns:1fr}
  .table thead{display:none}
  .table tbody tr{display:block;margin-bottom:10px}
  .table tbody td{display:flex;justify-content:space-between}
  .table tbody td::before{
    content:attr(data-label); color:var(--text-weak); margin-right:12px; font-weight:700
  }
}/* ===== Últimos mantenimientos (estilo pro) ===== */
.lm-card{ padding-top:16px }
.lm-header{
  display:flex; align-items:flex-end; gap:16px; margin-bottom:12px;
}
.lm-header h2{ margin:0; }
.table-wrap{ overflow:auto }

/* Tabla profesional */
.pro-table{
  width:100%; border-collapse:separate; border-spacing:0 8px;
}
.pro-table thead th{
  font-size:12px; text-transform:uppercase; letter-spacing:.35px;
  color:var(--thead); padding:10px 12px;
}
.pro-table tbody tr{
  background:var(--surface-2);
  border:1px solid var(--border);
  border-radius:12px; overflow:hidden;
  transition:background .15s, transform .05s;
}
.pro-table tbody tr:hover{ background:#fff7ef }
.pro-table td{
  padding:12px; color:var(--text);
}
.pro-table td:first-child{ border-radius:12px 0 0 12px }
.pro-table td:last-child{ border-radius:0 12px 12px 0 }

/* Placa + CEDIS compactos */
.stack{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
.plate{
  font-weight:800; letter-spacing:.4px; color:var(--text-strong);
  background:#fff; border:1px solid var(--border); padding:4px 8px; border-radius:8px;
}
.cedis-chip{
  background:#fff3e0; color:#7a3b00; border:1px solid #ffd5a8;
  padding:4px 8px; border-radius:999px; font-weight:600; font-size:12px;
}

/* ===== FAB asistente IA (tamaño XL) ===== */
.chat-fab{
  position:fixed; right:24px; bottom:24px; z-index:60;
  width:74px; height:74px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  background:var(--brand); color:#fff; box-shadow:var(--shadow);
  cursor:pointer; transition:transform .08s, filter .15s, box-shadow .15s;
}
.chat-fab:hover{ filter:brightness(1.06) }
.chat-fab:active{ transform:translateY(1px) }
.chat-fab .fab-label{
  position:absolute; right:84px; bottom:14px;
  background:#111827; color:#fff; padding:8px 10px; border-radius:10px;
  font-weight:700; font-size:12px; box-shadow:var(--shadow);
}

/* Ventana de chat un poco más grande */
.chat-window{
  position:fixed; right:24px; bottom:110px; z-index:60;
  width:420px; max-height:72vh;
  display:none; flex-direction:column; overflow:hidden;
  background:var(--surface); border:1px solid var(--border);
  border-radius:16px; box-shadow:var(--shadow);
}
.chat-window.open{ display:flex }
.chat-header{ padding:12px 14px; border-bottom:1px solid var(--border); font-weight:800; }
.chat-body{ padding:12px 14px; }
.chat-msg{ margin:8px 0; padding:8px 10px; border-radius:10px; background:var(--surface-2); border:1px solid var(--border); }
.chat-input{ display:flex; gap:8px; padding:12px; border-top:1px solid var(--border) }
.chat-input input{ flex:1 }

